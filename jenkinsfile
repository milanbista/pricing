pipeline{
  agent any

  stages{
    stage('checkout'){
      steps{
        git branch: 'main', url: 'https://github.com/milanbista/pricing.git'
      }

    }

    stage('build'){
      steps{
          sh '''
          echo "Building Pricing Service"
          ./gradlew clean build
          '''
      }
    }


  stage('deploy){
    steps{
      sh '''
      ls build/libs
      docker build -t pricing_img .
      docker run -d -p 9777:8080 --name pricing_cont pricing_img
      '''
    }

  }
  }
}
